{"version":3,"sources":["assets/img/preloader.gif","components/common/preloader/preloader.js","components/common/FormsControls/FormsControl.js","components/common/FormsControls/FormsControl.module.css","components/common/Paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profileReducer.js","redux/dialoguesReducer.js","api/api.js","components/Navbar/Navbar.module.css","components/Users/users.module.css","redux/usersReducer.js","reportWebVitals.js","components/Navbar/Navbar.jsx","assets/img/user.png","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/login.jsx","redux/appReducer.js","redux/redux-store.js","App.js","index.js"],"names":["Preloader","props","src","preloader","FormControl","input","meta","child","hasError","error","touched","className","styles","children","Textarea","restProps","Input","module","exports","required","value","maxLengthCreator","maxLength","length","ADD_POST","SET_USER_PROFILE","SET_STATUS","initialState","posts","id","message","likeCounter","profile","status","addPostActionCreator","newPostText","type","setStatus","getUserProfile","userId","dispatch","a","usersAPI","getProfile","response","data","getStatus","profileAPI","updateStatus","resultCode","profileReducer","state","action","newPost","SEND_MESSAGE","dialogues","name","messages","sendMessageBodyCreator","newMessageBody","dialoguesReducer","body","instance","axios","create","withCredentials","baseURL","headers","getUSers","currentPage","pageSize","get","then","follow","post","unfollow","delete","console","warn","put","authAPI","me","login","email","password","rememberMe","logout","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalItemCount","isFetching","followingInProgress","followSuccess","userID","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","getUsers","page","items","totalUsersCount","totalCount","count","followUnfollowFlow","apiMethod","actionCreator","bind","usersReducer","map","followed","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","s","nav","menu","active","to","activeClassName","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","e","Pages","Users","photos","small","userPhoto","usersPhoto","disabled","some","getAllUsers","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","React","Component","compose","connect","Header","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","validate","formSummaryError","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","dialoguesPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","DialoguesContainer","lazy","ProfileContainer","App","initializeApp","fallback","path","AppContainer","withRouter","promise","Promise","all","SocialJSApp","StrictMode","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.355c8386.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/preloader.df1e3eaf.gif\";","import preloader from './../../../assets/img/preloader.gif'\n\nlet Preloader = (props) => {\n    return <div>\n            <img src={preloader}/>\n            </div>   \n}\n\nexport default Preloader;","import React from 'react';\nimport styles from './FormsControl.module.css';\n\nconst FormControl = ({input, meta, child, ...props}) => { //props теперь содержат все, кроме инпута и меты. рест оператор\n    const hasError = meta.error && meta.touched;\n\n    return (         \n        <div className={(hasError? styles.error : '')}>\n            <div>\n            {props.children}\n            </div>\n            {hasError && <span>{meta.error}</span>}\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {         \n        const {input, meta, child, ...restProps} = props;\n        return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\n}\nexport const Input = (props) => { \n    const {input, meta, child, ...restProps} = props;\n        return <FormControl {...props}><input {...input} {...restProps} /></FormControl>  \n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControl_error__2k9J1\",\"formSummaryError\":\"FormsControl_formSummaryError__1s1Ct\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__jB9h_\",\"pageNumber\":\"Paginator_pageNumber__1xor8\",\"selectedPage\":\"Paginator_selectedPage__OMlCc\"};","export const required = (value) => {\n    if (value) return undefined;\n    return 'field is required';\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `max length is ${maxLength} symbols`;\n    return undefined;\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1GSTr\",\"loginBlock\":\"Header_loginBlock__w3buX\"};","import { usersAPI, profileAPI } from '../api/api';\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\n\nlet initialState = {\n    posts: [\n        { id: 1, message: 'Hi, how you doing?', likeCounter: '3' },\n        { id: 2, message: 'Whats up?', likeCounter: '3' },\n        { id: 3, message: 'Its my first post', likeCounter: '6' },\n        { id: 4, message: 'Hey', likeCounter: '9' }\n    ],\n    profile: null,\n    status: ''\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST:\n            let newPost = {\n                id: 5,\n                message: action.newPostText,\n                likeCounter: 0\n            };\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n                newPostText: ''\n            };\n        case SET_STATUS:\n            return {\n                ...state, status: action.status\n            };\n        case SET_USER_PROFILE:\n            return {\n                ...state, profile: action.profile\n            };\n        default: return state;\n    }\n}\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText }); // вариант синтаксиса без return\n\nexport const setUserProfile = (profile) => {\n    return {\n        type: SET_USER_PROFILE, profile\n    }\n}\nexport const setStatus = (status) => {\n    return {\n        type: SET_STATUS, status\n    }\n}\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n    let response = await usersAPI.getProfile(userId)\n            dispatch(setUserProfile(response.data));\n}\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId)\n            dispatch(setStatus(response.data));\n}\nexport const updateStatus = (status) => async (dispatch) => {\n    let response = await profileAPI.updateStatus(status)\n            if (response.data.resultCode === 0) {\n                dispatch(setStatus(status));\n            }\n    }\n\n\nexport default profileReducer;\n\n","import { act } from \"@testing-library/react\";\n\nconst SEND_MESSAGE = 'SEND_MESSAGE';\n\nlet initialState = {\n    dialogues: [\n        { id: 1, name: 'Anna' },\n        { id: 2, name: 'Ksenya' },\n        { id: 3, name: 'Alex' },\n        { id: 4, name: 'Volodya' },\n        { id: 5, name: 'Rex' }\n    ],\n    messages: [\n        { id: 1, message: 'Hello' },\n        { id: 2, message: 'Yo' },\n        { id: 3, message: 'Kek' },\n        { id: 4, message: 'How you doing?' },\n        { id: 5, message: 'Lol' }\n    ]\n}\n\n\nconst dialoguesReducer = (state = initialState, action) => {\n    switch (action.type){\n        case SEND_MESSAGE:\n            let body = action.newMessageBody;\n            return {...state, \n                messages: [...state.messages, { id: 6, message: body } ]} //альтернатива пушу        \n        default:\n            return state;          \n    }\n}\n\nexport const sendMessageBodyCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody }); // вариант синтаксиса без return\n\nexport default dialoguesReducer;","import axios from 'axios';\nimport { follow } from '../redux/usersReducer';\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers:{\n        'API-KEY': '3dadebee-0ac9-4307-a5f5-94c82542f358'\n        }\n});\n\nexport const usersAPI = {\n    getUSers(currentPage, pageSize) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n        .then(response => {\n            return response.data;\n        });\n    },\n    follow(userId) {\n        return instance.post(`follow/${userId}`)\n    },\n    unfollow(userId) {\n        return instance.delete(`follow/${userId}`)\n    },\n    getProfile(userId){\n        console.warn('obsolete method. please use profileAPI obj')\n        return profileAPI.getProfile(userId)\n    }\n}\nexport const profileAPI = {\n    getProfile(userId){\n        return instance.get(`profile/` + userId)\n    },\n    getStatus(userId){\n        return instance.get(`profile/status/` + userId)\n    },\n    updateStatus(status){\n        return instance.put(`profile/status/`, {status: status})\n    }\n}\n\nexport const authAPI = {\n    me() {\n       return instance.get(`auth/me`);\n    },\n    login(email, password, rememberMe = false) {\n       return instance.post(`auth/login`, {email, password, rememberMe});\n    },\n    logout() {\n       return instance.delete(`auth/login`);\n    }\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1osGN\",\"menu\":\"Navbar_menu__3Ls_Y\",\"active\":\"Navbar_active__u3Xif\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"users_usersPhoto__3I5WB\",\"selectedPage\":\"users_selectedPage__Hf7bY\"};","import { usersAPI } from '../api/api';\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\nlet initialState = {\n    users: [],\n    pageSize: 5,\n    totalItemCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: []\n}\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: state.users.map(users => {\n                    if (users.id === action.userID) {\n                        return { ...users, followed: true }\n                    } else {\n                        return users;\n                    }\n                })\n            }\n\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: state.users.map(users => {\n                    if (users.id === action.userID) {\n                        return { ...users, followed: false }\n                    } else {\n                        return users;\n                    }\n                })\n            }\n        case SET_USERS: {\n            return { ...state, users: action.users }\n            // return { ...state, users: [...state.users, ...action.users]}   \n        }\n        case SET_CURRENT_PAGE: {\n            return { ...state, currentPage: action.currentPage }\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return { ...state, totalUsersCount: action.count }\n        }\n        case TOGGLE_IS_FETCHING: {\n            return { ...state, isFetching: action.isFetching }\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id != action.userId)\n            }\n        }\n        default: return state;\n    }\n}\n\nexport const followSuccess = (userID) => ({ type: FOLLOW, userID }); // вариант синтаксиса без return\n\nexport const unfollowSuccess = (userID) => {\n    return {\n        type: UNFOLLOW, userID\n    }\n}\nexport const setUsers = (users) => {\n    return {\n        type: SET_USERS, users\n    }\n}\nexport const setCurrentPage = (currentPage) => {\n    return {\n        type: SET_CURRENT_PAGE, currentPage\n    }\n}\nexport const setTotalUsersCount = (totalUsersCount) => {\n    return {\n        type: SET_TOTAL_USERS_COUNT, count: totalUsersCount\n    }\n}\nexport const toggleIsFetching = (isFetching) => {\n    return {\n        type: TOGGLE_IS_FETCHING, isFetching\n    }\n}\nexport const toggleFollowingProgress = (isFetching, userId) => {\n    return {\n        type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId\n    }\n}\n\nexport const getUsers = (page, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n        dispatch(setCurrentPage(page));\n        let data = await usersAPI.getUSers(page, pageSize)\n            dispatch(toggleIsFetching(false));\n            dispatch(setUsers(data.items));\n            dispatch(setTotalUsersCount(data.totalCount));\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId))\n        let response = await apiMethod(userId)\n            if (response.data.resultCode === 0) {\n                dispatch(actionCreator(userId))\n            }\n            dispatch(toggleFollowingProgress(false, userId))\n}\n\nexport const follow = (userId) => {\n    return async (dispatch) => {\n        let apiMethod = usersAPI.follow.bind(usersAPI);\n        let actionCreator = followSuccess;\n        followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\n    }\n}\nexport const unfollow = (userId) => {\n    return async (dispatch) => {\n        let apiMethod = usersAPI.unfollow.bind(usersAPI);\n        let actionCreator = unfollowSuccess;\n        followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\n    }\n}\n\nexport default usersReducer;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { NavLink } from 'react-router-dom';\nimport s from './Navbar.module.css';\n\nconst Navbar = () => {\n  return (\n    <nav className={s.nav}>\n      <div className={`${s.menu} ${s.active}`}>\n        <NavLink to='/profile' activeClassName={s.active}>Profile</NavLink>\n      </div>\n      <div className={s.menu}>\n        <NavLink to='/dialogues' activeClassName={s.active}>Messages</NavLink>\n      </div>\n      <div className={s.menu}>\n        <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\n      </div>\n      <div className={s.menu}>\n        <NavLink to='/news' activeClassName={s.active}>News</NavLink>\n      </div>\n      <div className={s.menu}>\n        <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\n      </div>\n      <div className={s.menu}>\n        <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;","export default __webpack_public_path__ + \"static/media/user.9dc92b0a.png\";","import React from 'react';\nimport { useState } from 'react';\nimport styles from './Paginator.module.css';\nimport cn from 'classnames';\n\nlet Paginator = ({ totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\n\n        let pagesCount = Math.ceil(totalUsersCount / pageSize);\n\n        let pages = [];\n\n        for (let i = 1; i <= pagesCount; i++) {\n                pages.push(i);\n        }\n\n        let portionCount = Math.ceil(pagesCount / portionSize);\n        let [portionNumber, setPortionNumber] = useState(1);\n        let leftPortionPageNumber = ((portionNumber - 1) * portionSize) + 1;\n        let rightPortionPageNumber = portionNumber * portionSize;\n\n\n        return <div className={styles.paginator}> \n         {portionNumber > 1 && \n                <button onClick={ () => { setPortionNumber(portionNumber - 1) } }>PRVS</button>}\n\n                {pages\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                        .map((p) => {\n                                return <span className={cn({\n                                        [styles.selectedPage] : currentPage === p}, styles.pageNumber)}\n                                        key={p}\n                                        onClick={(e) => { onPageChanged(p); \n                                        }}>{p}</span>\n                        })} \n\n                 {portionCount > portionNumber &&\n                       <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NXT</button>}\n        </div>\n}\n\nexport default Paginator;\n\nexport const Pages = () => {\n        return <div>HELLO</div>\n}","import React from 'react';\nimport styles from './users.module.css';\nimport userPhoto from '../../assets/img/user.png';\nimport { NavLink } from 'react-router-dom';\nimport Paginator, { Pages } from '../common/Paginator/Paginator';\n\nlet Users = (props) => {\n    return <div>\n        <Pages/>\n        <Paginator currentPage={props.currentPage} \n                   onPageChanged={props.onPageChanged} \n                   totalUsersCount={props.totalUsersCount} \n                   pageSize={props.pageSize} />\n        {\n            props.users.map(users => <div key={users.id}>\n                <span>\n                    <div>\n                        <NavLink to={'/profile/' + users.id}>\n                            <img src={users.photos.small != null ? users.photos.small : userPhoto} className={styles.usersPhoto} />\n                        </NavLink>\n                    </div>\n                    <div>\n                        {users.followed\n                            ? <button disabled={props.followingInProgress.some(id => id === users.id)} onClick={() => {props.unfollow(users.id)}}>Unfollow</button>\n                            : <button disabled={props.followingInProgress.some(id => id === users.id)} onClick={() => {props.follow(users.id)}}>Follow</button>}\n                    </div>\n                </span>\n                <span>\n                    <span>\n                        <div>{users.name}</div>\n                        <div>{users.status}</div>\n                    </span>\n                    <span>\n                        <div>{\"users.location.country\"}</div>\n                        <div>{\"users.location.city\"}</div>\n                    </span>\n                </span>\n\n\n            </div>)\n        }\n    </div>\n}\n\nexport default Users;","import { createSelector } from \"reselect\";\n\nexport const getAllUsers = (state) => {\n    return state.usersPage.users;\n}\n// export const getAllUsersSelector = (state) => {\n//     return getAllUsers().filter(users => true);\n// }\n// export const getAllUsersSuperSelector = createSelector( getAllUsers, (users) => {\n//     return users.filter(users => true);\n// })\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize;\n}\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount;\n}\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage;\n}\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching;\n}\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress;\n}","import React from 'react';\nimport { connect } from \"react-redux\";\nimport { setCurrentPage, follow, unfollow, toggleFollowingProgress, getUsers } from \"../../redux/usersReducer\";\nimport Users from './Users';\nimport Preloader from './../common/preloader/preloader';\nimport { compose } from 'redux';\nimport { getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress, getAllUsers } from '../../redux/usersSelectors'\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        this.props.getUsers(pageNumber, this.props.pageSize);\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader /> : null}\n            <Users currentPage={this.props.currentPage}\n                totalUsersCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n                onPageChanged={this.onPageChanged}\n                users={this.props.users}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n                followingInProgress={this.props.followingInProgress}\n            />\n        </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getAllUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\nexport default compose\n    (connect(mapStateToProps,\n        {follow, unfollow, setCurrentPage,\n            toggleFollowingProgress, getUsers\n        })\n    )(UsersContainer)","import React from 'react';\nimport s from './Header.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = (props) => {\n    return(\n        <header className={s.header}>\n        <img src='https://logos-world.net/wp-content/uploads/2020/12/Lays-Logo.png' />\n        <div className={s.loginBlock}>\n          {props.isAuth \n          ? <div> {props.login} - <button onClick={props.logout}>Log out</button> </div>\n          : <NavLink to={'/login'} >login</NavLink>}\n        </div>\n      </header>\n    );\n}\n\nexport default Header;","import { authAPI } from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst SET_USER_DATA = 'SET_USER_DATA';\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false\n}\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.payload\n            }\n        default: return state;\n    }\n}\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } }); // вариант синтаксиса без return\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me()\n            if (response.data.resultCode === 0) {\n                let { id, login, email } = response.data.data;\n                dispatch(setAuthUserData(id, login, email, true))\n            }\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n\n    let response = await authAPI.login(email, password, rememberMe)\n            if (response.data.resultCode === 0) {\n              dispatch(getAuthUserData())\n            } else {\n                let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\n                dispatch(stopSubmit('login', {_error: message}))\n            }\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout()\n            if (response.data.resultCode === 0) {\n            dispatch(setAuthUserData(null, null, null, false))\n            }\n}\n\nexport default authReducer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header';\nimport { logout, getAuthUserData } from './../../redux/authReducer';\n \nclass HeaderContainer extends React.Component {\n\n  render() {\n    return (\n      <Header {...this.props}/>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n});\n\nexport default connect (mapStateToProps, {getAuthUserData, logout}) (HeaderContainer);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm, Field } from 'redux-form';\nimport { required } from '../../utils/validators/validators';\nimport { Input } from '../common/FormsControls/FormsControl';\nimport { login } from '../../redux/authReducer'\nimport { Redirect } from 'react-router';\nimport styles from './../common/FormsControls/FormsControl.module.css';\n\n\nconst LoginForm = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                <Field placeholder={'Email'} name={'email'} component={Input} validate={[required]} />\n            </div>\n            <div>\n                <Field placeholder={'Password'} name={'password'} component={Input} validate={[required]} type={'password'} />\n            </div>\n            <div>\n                <Field component={Input} name={'rememberMe'} type={'checkbox'} /> remember me\n            </div>\n            {props.error && <div className={styles.formSummaryError}>\n                {props.error}\n            </div>\n            }\n            <div>\n                <button>Login</button>\n            </div>\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.email, formData.password, formData.rememberMe);\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={'/profile'} />\n    }\n    return <div>\n        <h1>LOGIN</h1>\n        <LoginReduxForm onSubmit={onSubmit} />\n    </div>\n}\n\nconst mapStateToprops = (state) => ({\n    isAuth: state.auth.isAuth\n})\n\nexport default connect(mapStateToprops, { login })(Login);","import { authAPI } from '../api/api';\nimport { stopSubmit } from 'redux-form';\nimport { getAuthUserData } from './authReducer';\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\nlet initialState = {\n    initialized: false\n}\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n        default: return state;\n    }\n}\n\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS }); // вариант синтаксиса без return\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData()); //если промисов несколько, то объединяем их в массив, и потом только then: Promise.all([promise, ...]).then \n    Promise.all([promise])\n    .then(() => {                       \n        dispatch(initializedSuccess());\n    })\n    \n    \n}\n\nexport default appReducer;\n","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\nimport authReducer from \"./authReducer\";\nimport dialoguesReducer from \"./dialoguesReducer\";\nimport profileReducer from \"./profileReducer\";\nimport usersReducer from \"./usersReducer\";\nimport thunkMiddleware from 'redux-thunk';\nimport {reducer as formReducer} from 'redux-form';\nimport appReducer from \"./appReducer\";\n\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialoguesPage: dialoguesReducer,\n    usersPage: usersReducer ,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer     \n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nwindow.store = store;\n\nexport default store;","// import logo from './logo.svg';\nimport './App.css'\nimport Navbar from './components/Navbar/Navbar';\nimport { Route } from \"react-router-dom\";\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport LoginPage from './components/Login/login';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { initializeApp } from '../src/redux/appReducer';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport Preloader from './components/common/preloader/preloader';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport store from './redux/redux-store';\nimport { Suspense } from 'react';\nconst DialoguesContainer = React.lazy(() => import('./components/Dialogues/DialoguesContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n   }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n\n        <Navbar />\n\n        <div className='app-wrapper-content'>\n\n        <Suspense fallback={<div>Loading...</div>}><Route path='/profile/:userId?'> <ProfileContainer /> </Route> \n          <Route path='/dialogues'><DialoguesContainer /> </Route></Suspense>\n          <Route path='/users'> <UsersContainer /> </Route>\n          <Route path='/login'> <LoginPage /> </Route>\n\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nlet AppContainer = compose (withRouter, connect (mapStateToProps, {initializeApp})) (App);\n\nconst SocialJSApp = (props) => {\n  return     <Router>\n  <React.StrictMode>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </React.StrictMode>\n  </Router>\n}\n\nexport default SocialJSApp;","import reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialJSApp from './App';\n\n\nReactDOM.render(\n  <SocialJSApp />,\n  document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}